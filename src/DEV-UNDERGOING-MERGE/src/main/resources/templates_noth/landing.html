<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tavern Portal</title>
  <link rel="icon" type="image/x-icon" href="../static/images/dice.png" />
  <link rel="stylesheet" href="../static/css/main.css" />
  <link rel="stylesheet" href="../static/css/landing.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>

<body class="main-bg-base landing-main-bg">

  <!-- Header Component -->
  <div data-component="header"></div>

  <!-- Modal Component -->
  <div data-component="login-modal"></div>

  <!-- Benvenuto -->
  <main>
    <section class="hero-section">
      <div class="hero">

        <div class="hero-content">
          <h1 sec:authorize="!isAuthenticated()">Benvenuto nella Taverna</h1>
          <h1 sec:authorize="hasRole('ADMIN')">Benvenuto Admin</h1>
          <h1 sec:authorize="hasRole('GUEST')">Bentornato alla Taverna</h1>
          <p sec:authorize="!isAuthenticated()">Gestisci le tue campagne di D&D, crea personaggi e vivi nuove avventure.</p>
          <p sec:authorize="hasRole('GUEST')">Sei pronto a tornare alla tua avventura?</p>
          <div class="btn-group">
            <button class="btn-primary btn-auth" sec:authorize="!isAuthenticated()"><a href="signup.html">Inizia Ora</a></button>
            <button class="btn-primary btn-auth login-btn" sec:authorize="!isAuthenticated()">Accedi</button>
            <button class="btn-primary btn-dashboard" sec:authorize="isPlayer()"><a href="./dashboard_player.html">Visuale Player</a></button>
            <button class="btn-primary btn-dashboard" sec:authorize="isMaster()"><a href="./dashboard_master.html">Visuale Master</a></button>
            <button class="btn-primary btn-admin" sec:authorize="hasRole('ADMIN')">Dashboard Admin</button>
          </div>
        </div>
      </div>
      <div class="hero switch-visual" style="display: none;">
        <button class="btn-primary">Passa alla Visuale Master</button>
      </div>
    </section>
    <!-- About -->
    <section class="about" sec:authorize="!hasRole('ADMIN')">
      <div class="info" sec:authorize="!isAuthenticated()">
        <h2>Cos'è Tavern Portal?</h2>
        <p>
          La piattaforma per Dungeon Master e Giocatori per pianificare, creare e condividere
          le tue campagne di Dungeons&Dragons in un unico portale.
        </p>
      </div>
      <!-- placeholder, main page troppo spoglia senza -->
      <div class="chat" sec:authorize="hasRole('GUEST')">
        <h2>Futura implementazione in arrivo</h2>
        <p>Presto sarà disponibile una chat per gli utenti loggati.</p>
      </div>
    </section>
  </main>

  <!-- Footer Component -->
  <div data-component="footer"></div>

  <!-- Scripts personalizzati -->
  <script src="../static/js/components.js"></script>
  <script src="../static/js/frontend-development-script.js"></script>
  <script src="../static/js/script.js"></script>

  <!-- Landing page specific scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Handle login button in hero section
      const loginBtns = document.querySelectorAll('.login-btn');
      loginBtns.forEach(btn => {
        btn.addEventListener('click', function (e) {
          e.preventDefault();
          // Trigger login modal if it exists
          if (window.loginModal && typeof window.loginModal.show === 'function') {
            window.loginModal.show();
          }
        });
      });
    });
  </script>

</body><!-- TODO (per il gestore del sito) necessaria cookie n privacy policy perché vengono gestiti dati personali -->

</html>