<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tavern Portal - Admin</title>
    <link rel="icon" type="image/x-icon" href="images/dice.png" />
    <link rel="stylesheet" href="css/main.css" />
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body class="dashboard-body admin-body">

    <header>
        <div class="logo-flex">
            <i><img src="images/dice.png" class="logo-icon" alt="Tavern Portal Logo" /></i>
            <div class="logo">Tavern Portal [ADMIN]</div>
        </div>
        <nav id="dashboard-nav">
        </nav>
    </header>

    <main class="dashboard-content">
        <section class="dashboard-section">
            <h2><i class="fas fa-users-cog"></i> Gestione Utenti</h2>

            <div class="filters-container">

                <div class="filters">
                    <button class="btn-filter active" data-filter="all">Tutti</button>
                    <button class="btn-filter" data-filter="players">Solo Player</button>
                    <button class="btn-filter" data-filter="masters">Solo Master</button>
                </div>
                <div class="search-bar">
                    <input type="text" id="user-search-input" placeholder="Cerca username o email..." />
                    <button id="user-search-button" class="btn-secondary" style="min-width: 0; padding: 8px 12px;"><i
                            class="fas fa-search"></i></button>
                </div>
                <div class="admin-table-wrapper">
                    <div class="admin-table-container">
                        <table id="users-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Ruoli</th>
                                    <th>Stato</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination-controls">
                        <button id="btn-prev-page" class="btn-secondary" disabled>&larr; Precedente</button>
                        <span id="page-info" class="pagination-info">Pagina 1</span>
                        <button id="btn-next-page" class="btn-secondary">Successivo &rarr;</button>
                    </div>
                </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <h3>Supporto Admin</h3>
            <p>Contatto: <a href="mailto:admin@tavernportal.example">admin@tavernportal.example</a></p>
        </div>
        <p>© 2025 Tavern Portal. Tutti i diritti riservati.</p>
    </footer>

    <div id="editUserModal" class="custom-modal">
        <div class="modal-overlay"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title">Modifica Utente</h2><button type="button" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editUserForm">
                    <div class="form-group"><label for="edit-username">Username</label><input type="text"
                            id="edit-username" required></div>
                    <div class="form-group"><label for="edit-email">Email</label><input type="email" id="edit-email"
                            required></div>
                    <div class="form-group"><label for="edit-image-url">URL Immagine Profilo</label><input type="text"
                            id="edit-image-url"></div>

                    <div class="form-group" style="text-align: left;">
                        <input type="checkbox" id="edit-is-admin" style="width: auto; margin-right: 10px;">
                        <label for="edit-is-admin" style="display: inline; font-size: 1rem;">È Admin
                            (ROLE_ADMIN)</label>
                    </div>

                    <div id="editUserError" class="error-message"></div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary modal-cancel">Annulla</button>
                    <button type="submit" form="editUserForm" class="btn btn-primary">Salva Modifiche</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/page.admin.js"></script>
</body>

</html>