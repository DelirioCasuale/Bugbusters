<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tavern Portal - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body class="dashboard-body">

    <header>
         <div class="logo-flex">
             <i><img src="images/dice.png" class="logo-icon" alt="Tavern Portal Logo" /></i>
            <div class="logo">Tavern Portal</div>
        </div>
        <nav id="dashboard-nav">
            <span id="welcome-user"></span>
            <a href="#" id="logout-button">Logout</a>
        </nav>
    </header>

    <section class="dashboard-hero">
        <div class="dashboard-hero-content">
            <h1 id="dashboard-title"></h1>
            <p id="dashboard-subtitle"></p>
            <div id="profile-actions" class="btn-group" style="margin-top: 20px;">
                 <button id="btn-become-player" class="btn-secondary" style="display: none;">Diventa Player</button>
                 <button id="btn-become-master" class="btn-secondary" style="display: none;">Diventa Master</button>
            </div>
             <div id="profile-message" class="info-message"></div>
        </div>
    </section>

    <main class="dashboard-content">
        <div id="player-section" style="display: none;">
             <section class="dashboard-section">
                <h2><i class="fas fa-scroll"></i> Le mie Schede</h2>
                <div id="player-sheets-list" class="card-container">
                    </div>
                 <div class="card add-card">
                    <button class="btn-secondary" id="btn-show-create-sheet-modal">+ Crea nuova Scheda</button>
                </div>
            </section>
             <section class="dashboard-section">
                 <h2><i class="fas fa-map-signs"></i> Le mie Campagne (Giocatore)</h2>
                 <div id="player-campaigns-list" class="card-container">
                    </div>
                 <div class="card add-card">
                     <button class="btn-secondary" id="btn-show-join-campaign-modal">+ Unisciti a una Campagna</button>
                 </div>
            </section>
             <section class="dashboard-section">
                 <h2><i class="fas fa-exclamation-triangle"></i> Campagne Orfane</h2>
                 <div id="player-orphaned-campaigns-list" class="card-container">
                    </div>
             </section>
            <section class="dashboard-section">
                <h2><i class="fas fa-calendar-alt"></i> Proposte di Sessione Attive</h2>
                <div id="player-proposals-list" class="card-container proposal-card-container">
                    </div>
            </section>
        </div>

        <div id="master-section" style="display: none;">
             <section class="dashboard-section">
                <h2><i class="fas fa-dungeon"></i> Le mie Campagne (Master)</h2>
                <div id="master-campaigns-list" class="card-container">
                   </div>
                <div class="card add-card">
                    <button class="btn-secondary" id="btn-show-create-campaign-modal">+ Crea nuova Campagna</button>
                </div>
                <div class="card add-card">
                    <button class="btn-secondary" id="btn-show-claim-campaign-modal">? Reclama Campagna Orfana</button>
                </div>
            </section>
             </div>

    </main>

    <div id="createSheetModal" class="custom-modal">
         <div class="modal-overlay"></div>
         <div class="modal-container">
             <div class="modal-header">
                <h2 class="modal-title">Crea Nuova Scheda</h2>
                <button type="button" class="modal-close">&times;</button>
            </div>
             <div class="modal-body">
                 <form id="createSheetForm">
                     <div class="form-group">
                         <label for="sheet-name">Nome Personaggio</label>
                         <input type="text" id="sheet-name" name="name" required>
                     </div>
                     <div class="form-group">
                         <label for="sheet-class">Classe</label>
                         <input type="text" id="sheet-class" name="primaryClass" required>
                     </div>
                      <div class="form-group">
                         <label for="sheet-race">Razza</label>
                         <select id="sheet-race" name="race" required>
                             <option value="" disabled selected>Seleziona Razza</option>
                             <option value="HUMAN">Umano</option>
                             <option value="ELF">Elfo</option>
                             <option value="DWARF">Nano</option>
                             <option value="HALFLING">Halfling</option>
                             <option value="ORC">Orco</option>
                             <option value="GNOME">Gnomo</option>
                             <option value="TIEFLING">Tiefling</option>
                             <option value="DRAGONBORN">Dragonide</option>
                             <option value="HALF_ELF">Mezzelfo</option>
                             <option value="HALF_ORC">Mezzorco</option>
                         </select>
                     </div>
                     <div id="createSheetError" class="error-message"></div>
                 </form>
            </div>
             <div class="modal-footer">
                 <button type="button" class="btn btn-secondary modal-cancel">Annulla</button>
                 <button type="submit" form="createSheetForm" class="btn btn-primary">Crea</button>
             </div>
         </div>
    </div>

    <div id="joinCampaignModal" class="custom-modal">
        </div>

    <div id="createCampaignModal" class="custom-modal">
         </div>

     <div id="claimCampaignModal" class="custom-modal">
         </div>

    <footer class="footer">
        <p>Â© 2025 Tavern Portal. Tutti i diritti riservati.</p>
    </footer>

    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="js/script.js"></script>
</body>
</html>